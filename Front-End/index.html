<!doctype html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/x-icon" href="/logo.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- Enhanced SEO Title with Primary Keywords -->
    <title>BN BÂTIMENT - Couvreur Professionnel Lyon | Installation Réparation Entretien Toiture 24h/24 | Devis Gratuit</title>
    
    <!-- Comprehensive SEO Meta Tags -->
    <meta name="description" content="BN BÂTIMENT - Couvreur professionnel à Lyon, Saint-Étienne, Valence, Clermont-Ferrand, Grenoble. Installation de toiture, réparation des fuites, entretien, démoussage et nettoyage. Devis gratuit et intervention rapide 24h/24. Plus de 200 clients satisfaits. Certifié Qualibat, assurance décennale." />
    <meta name="keywords" content="couvreur Lyon, installation toiture Lyon, réparation fuites Lyon, entretien toiture Lyon, démoussage toiture Lyon, nettoyage toiture Lyon, couvreur Saint-Étienne, installation toiture Saint-Étienne, réparation fuites Saint-Étienne, entretien toiture Saint-Étienne, démoussage toiture Saint-Étienne, nettoyage toiture Saint-Étienne, couvreur Valence, installation toiture Valence, réparation fuites Valence, entretien toiture Valence, démoussage toiture Valence, nettoyage toiture Valence, couvreur Clermont-Ferrand, installation toiture Clermont-Ferrand, réparation fuites Clermont-Ferrand, entretien toiture Clermont-Ferrand, démoussage toiture Clermont-Ferrand, nettoyage toiture Clermont-Ferrand, couvreur Grenoble, installation toiture Grenoble, réparation fuites Grenoble, entretien toiture Grenoble, démoussage toiture Grenoble, nettoyage toiture Grenoble, couvreur professionnel, devis toiture gratuit, intervention rapide toiture, service 24h 24 toiture, assurance décennale toiture, certification Qualibat, charpente Lyon, zinguerie Lyon, gouttières Lyon, isolation toiture Lyon, étanchéité toiture Lyon, ventilation toiture Lyon, écran sous-toiture Lyon, pare-vapeur Lyon, liteaux Lyon, volige Lyon, chevrons Lyon, pannes Lyon, fermes Lyon, poutres Lyon, solives Lyon, plancher Lyon, escalier Lyon, terrasse Lyon, pergola Lyon, abri jardin Lyon, cabane Lyon, chalet Lyon, maison ossature bois Lyon, construction bois Lyon, rénovation bois Lyon, traitement bois Lyon, lasure Lyon, peinture bois Lyon, protection bois Lyon, anti-termites Lyon, anti-fongique Lyon, hydrofuge Lyon, oléofuge Lyon, saturateur Lyon, vernis Lyon, enduit Lyon, crépis Lyon, ravalement façade Lyon, rénovation façade Lyon, nettoyage façade Lyon, hydrogommage Lyon, sablage Lyon, gommage Lyon, ponçage Lyon" />
    <meta name="author" content="BN BÂTIMENT - Expert Couvreur Lyon" />
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1, max-snippet:-1" />
    <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
    <meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
    <meta name="slurp" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
    
    <!-- Enhanced Language and Region Meta Tags -->
    <meta name="language" content="fr" />
    <meta name="geo.region" content="FR" />
    <meta name="geo.country" content="France" />
    <meta name="geo.placename" content="Lyon, Saint-Étienne, Valence, Clermont-Ferrand, Grenoble" />
    <meta name="geo.position" content="45.7578;4.8320" />
    <meta name="ICBM" content="45.7578, 4.8320" />
    <meta name="distribution" content="France" />
    <meta name="coverage" content="France" />
    <meta name="target" content="France" />
    
    <!-- Enhanced Mobile Optimization -->
    <meta name="format-detection" content="telephone=no" />
    <meta name="theme-color" content="#3b82f6" />
    <meta name="msapplication-TileColor" content="#3b82f6" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="BN BÂTIMENT" />
    
    <!-- Enhanced Open Graph Meta Tags for Social Media -->
    <meta property="og:title" content="BN BÂTIMENT - Couvreur Professionnel Lyon | Installation Réparation Entretien Toiture 24h/24" />
    <meta property="og:description" content="BN BÂTIMENT, couvreur professionnel à Lyon, Saint-Étienne, Valence, Clermont-Ferrand, Grenoble. Installation de toiture, réparation des fuites, entretien, démoussage et nettoyage. Devis gratuit et intervention rapide 24h/24." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://bnbatiment.com" />
    <meta property="og:image" content="https://bnbatiment.com/logo.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:alt" content="BN BÂTIMENT - Expert Installation Réparation Entretien Toiture" />
    <meta property="og:site_name" content="BN BÂTIMENT" />
    <meta property="og:locale" content="fr_FR" />
    <meta property="og:locale:alternate" content="en_US" />
    
    <!-- Enhanced Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="BN BÂTIMENT - Couvreur Professionnel Lyon | Installation Réparation Entretien Toiture" />
    <meta name="twitter:description" content="BN BÂTIMENT, couvreur professionnel à Lyon, Saint-Étienne, Valence, Clermont-Ferrand, Grenoble. Installation de toiture, réparation des fuites, entretien, démoussage et nettoyage." />
    <meta name="twitter:image" content="https://bnbatiment.com/logo.png" />
    <meta name="twitter:image:alt" content="BN BÂTIMENT - Expert Installation Réparation Entretien Toiture" />
    <meta name="twitter:site" content="@bnbatiment" />
    <meta name="twitter:creator" content="@bnbatiment" />
    
    <!-- Canonical URL is dynamically set by SEO component per page -->
    
    <!-- Enhanced Favicon and App Icons -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="manifest" href="/site.webmanifest" />
    
    <!-- Google tag (gtag.js) - Conversion Tracking -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=AW-17440024602"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'AW-17440024602');
    </script>
    
    <!-- Google tag (gtag.js) - Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-RJX0MWS7Q5"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-RJX0MWS7Q5');
    </script>
    
    <!-- Event snippet for جهة اتصال (1) conversion page -->
    <script>
      gtag('event', 'conversion', {'send_to': 'AW-17440024602/_f3bCNiLrIgbEJrQhvxA'});
    </script>
    
    <!-- Enhanced Performance Optimizations - Preconnect to external domains -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://api.bnbatiment.com" />
    <link rel="preconnect" href="https://images.unsplash.com" />
    <link rel="preconnect" href="https://www.google-analytics.com" />
    <link rel="preconnect" href="https://www.googletagmanager.com" />
    
    <!-- Enhanced DNS Prefetch for additional performance -->
    <link rel="dns-prefetch" href="https://api.bnbatiment.com" />
    <link rel="dns-prefetch" href="https://images.unsplash.com" />
    <link rel="dns-prefetch" href="https://www.google-analytics.com" />
    <link rel="dns-prefetch" href="https://www.googletagmanager.com" />
    
    <!-- Enhanced Preload critical resources -->
    <link rel="preload" href="/logo.png" as="image" type="image/png" />
    
    <!-- Enhanced Critical CSS Inline for above-the-fold content -->
    <style>
      /* Enhanced Critical CSS for above-the-fold content */
      body { 
        margin: 0; 
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Inter', sans-serif; 
        line-height: 1.6;
        color: #1f2937;
      }
      #root { 
        min-height: 100vh; 
        display: flex;
        flex-direction: column;
      }
      .loading { 
        display: flex; 
        justify-content: center; 
        align-items: center; 
        height: 100vh;
        background: linear-gradient(135deg, #3b82f6, #1d4ed8);
      }
      .loading::after { 
        content: ''; 
        width: 50px; 
        height: 50px; 
        border: 3px solid #f3f3f3; 
        border-top: 3px solid #3b82f6; 
        border-radius: 50%; 
        animation: spin 1s linear infinite; 
      }
      @keyframes spin { 
        0% { transform: rotate(0deg); } 
        100% { transform: rotate(360deg); } 
      }
      
      /* Enhanced font loading optimization */
      @font-face { 
        font-family: 'Inter'; 
        font-display: swap; 
        font-weight: 400;
        src: local('Inter'), url('https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfAZ9hiA.woff2') format('woff2');
      }
      
      /* Enhanced layout shift prevention */
      img { 
        max-width: 100%; 
        height: auto; 
        display: block;
      }
      .hero-slider { 
        contain: layout style paint; 
        will-change: transform;
      }
      
      /* Enhanced animation optimization */
      @media (prefers-reduced-motion: reduce) { 
        *, *::before, *::after { 
          animation-duration: 0.01ms !important; 
          animation-iteration-count: 1 !important; 
          transition-duration: 0.01ms !important; 
        } 
      }
      
      /* Enhanced accessibility */
      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
      }
      
      /* Enhanced focus styles */
      :focus {
        outline: 2px solid #3b82f6;
        outline-offset: 2px;
      }
    </style>
    
    <!-- Enhanced Comprehensive Structured Data for Local Business -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "LocalBusiness",
        "name": "BN BÂTIMENT",
        "alternateName": ["BN BÂTIMENT Couvreur", "Couvreur Lyon", "Couvreur Saint-Étienne", "Couvreur Valence", "Couvreur Clermont-Ferrand", "Couvreur Grenoble"],
        "description": "Installation de toiture, réparation des fuites, entretien de toiture, démoussage et traitement hydrofuge, nettoyage de toiture sur Lyon, Saint-Étienne, Valence, Clermont-Ferrand, Grenoble. Expert couvreur avec plus de 10 ans d'expérience.",
        "url": "https://bnbatiment.com",
        "telephone": ["+33780326427", "+33780326427"],
        "email": "contact@bnbatiment.com",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Lyon",
          "addressRegion": "Rhône-Alpes",
          "addressCountry": "FR",
          "postalCode": "69000"
        },
        "geo": {
          "@type": "GeoCoordinates",
          "latitude": 45.7578,
          "longitude": 4.8320
        },
        "openingHours": "Mo-Su 00:00-23:59",
        "priceRange": "€€",
        "currenciesAccepted": "EUR",
        "paymentAccepted": "Cash, Credit Card, Bank Transfer, Check",
        "serviceArea": {
          "@type": "GeoCircle",
          "geoMidpoint": {
            "@type": "GeoCoordinates",
            "latitude": 45.7578,
            "longitude": 4.8320
          },
          "geoRadius": "100000"
        },
        "areaServed": [
          {
            "@type": "City",
            "name": "Lyon",
            "sameAs": "https://fr.wikipedia.org/wiki/Lyon"
          },
          {
            "@type": "City", 
            "name": "Saint-Étienne",
            "sameAs": "https://fr.wikipedia.org/wiki/Saint-%C3%89tienne"
          },
          {
            "@type": "City",
            "name": "Valence",
            "sameAs": "https://fr.wikipedia.org/wiki/Valence_(Dr%C3%B4me)"
          },
          {
            "@type": "City",
            "name": "Clermont-Ferrand",
            "sameAs": "https://fr.wikipedia.org/wiki/Clermont-Ferrand"
          },
          {
            "@type": "City",
            "name": "Grenoble",
            "sameAs": "https://fr.wikipedia.org/wiki/Grenoble"
          }
        ],
        "hasOfferCatalog": {
          "@type": "OfferCatalog",
          "name": "Services de Toiture",
          "itemListElement": [
            {
              "@type": "Offer",
              "itemOffered": {
                "@type": "Service",
                "name": "Installation de toiture",
                "description": "Installation complète de toiture neuve en tuiles, zinc, ardoises et métal",
                "url": "https://bnbatiment.com/services/installation"
              }
            },
            {
              "@type": "Offer",
              "itemOffered": {
                "@type": "Service",
                "name": "Réparation des fuites",
                "description": "Réparation rapide des fuites de toiture avec intervention d'urgence 24h/24",
                "url": "https://bnbatiment.com/services/repair"
              }
            },
            {
              "@type": "Offer",
              "itemOffered": {
                "@type": "Service",
                "name": "Entretien de toiture",
                "description": "Entretien préventif et maintenance régulière de toiture",
                "url": "https://bnbatiment.com/services/maintenance"
              }
            },
            {
              "@type": "Offer",
              "itemOffered": {
                "@type": "Service",
                "name": "Démoussage et traitement hydrofuge",
                "description": "Démoussage professionnel et traitement hydrofuge pour protéger votre toiture",
                "url": "https://bnbatiment.com/services/cleaning"
              }
            },
            {
              "@type": "Offer",
              "itemOffered": {
                "@type": "Service",
                "name": "Nettoyage de toiture",
                "description": "Nettoyage haute pression et entretien complet de votre toiture",
                "url": "https://bnbatiment.com/services/cleaning"
              }
            }
          ]
        },
        "aggregateRating": {
          "@type": "AggregateRating",
          "ratingValue": "4.9",
          "reviewCount": "200",
          "bestRating": "5",
          "worstRating": "1"
        },
        "review": [
          {
            "@type": "Review",
            "reviewRating": {
              "@type": "Rating",
              "ratingValue": "5",
              "bestRating": "5"
            },
            "author": {
              "@type": "Person",
              "name": "Client satisfait"
            },
            "reviewBody": "Excellent service, intervention rapide et professionnelle. Je recommande vivement !"
          }
        ],
        "sameAs": [
          "https://www.facebook.com/bnbatiment",
          "https://www.instagram.com/bnbatiment",
          "https://www.linkedin.com/company/bnbatiment"
        ],
        "image": "https://bnbatiment.com/logo.png",
        "logo": "https://bnbatiment.com/logo.png"
      }
    </script>
    
    <!-- Enhanced Organization Schema -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "BN BÂTIMENT",
        "url": "https://bnbatiment.com",
        "logo": "https://bnbatiment.com/logo.png",
        "image": "https://bnbatiment.com/logo.png",
        "description": "Expert en installation, réparation et entretien de toiture dans la région Rhône-Alpes",
        "contactPoint": [
          {
            "@type": "ContactPoint",
            "telephone": "+33780326427",
            "contactType": "customer service",
            "availableLanguage": "French",
            "hoursAvailable": {
              "@type": "OpeningHoursSpecification",
              "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"],
              "opens": "00:00",
              "closes": "23:59"
            }
          },
          {
            "@type": "ContactPoint",
            "telephone": "+33780326427",
            "contactType": "emergency",
            "availableLanguage": "French",
            "hoursAvailable": {
              "@type": "OpeningHoursSpecification",
              "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"],
              "opens": "00:00",
              "closes": "23:59"
            }
          }
        ],
        "sameAs": [
          "https://www.facebook.com/bnbatiment",
          "https://www.instagram.com/bnbatiment",
          "https://www.linkedin.com/company/bnbatiment"
        ],
        "foundingDate": "2014",
        "numberOfEmployees": "10-50",
        "award": [
          "Certification Qualibat",
          "Assurance décennale",
          "Plus de 200 clients satisfaits"
        ]
      }
    </script>
    
    <!-- FAQ and Breadcrumb Schemas are dynamically added by SEO component per page -->
    
    <!-- Enhanced Performance monitoring and optimization -->
    <script>
      // Enhanced Performance monitoring and optimization
      (function() {
        const isProduction = window.location.hostname !== 'localhost';
        if ('performance' in window) {
          // Monitor Core Web Vitals
          new PerformanceObserver((list) => {
            const entries = list.getEntries();
            entries.forEach(entry => {
              if (entry.entryType === 'largest-contentful-paint') {
                // Only log in development mode to reduce console noise
                if (!isProduction) {
                  console.log('LCP:', entry.startTime);
                }
                // Send to analytics if LCP is poor
                if (entry.startTime > 2500) {
                  gtag('event', 'poor_lcp', { value: entry.startTime });
                }
              }
            });
          }).observe({ entryTypes: ['largest-contentful-paint'] });
          
          // Monitor First Input Delay
          new PerformanceObserver((list) => {
            const entries = list.getEntries();
            entries.forEach(entry => {
              const fid = entry.processingStart - entry.startTime;
              // Only log in development mode to reduce console noise
              if (!isProduction) {
                console.log('FID:', fid);
              }
              // Send to analytics if FID is poor
              if (fid > 100) {
                gtag('event', 'poor_fid', { value: fid });
              }
            });
          }).observe({ entryTypes: ['first-input'] });
          
          // Monitor Cumulative Layout Shift - disabled to reduce console noise
          // Only monitor in development
          if (!isProduction) {
            new PerformanceObserver((list) => {
              const entries = list.getEntries();
              entries.forEach(entry => {
                console.log('CLS:', entry.value);
                // Send to analytics if CLS is poor
                if (entry.value > 0.1) {
                  gtag('event', 'poor_cls', { value: entry.value });
                }
              });
            }).observe({ entryTypes: ['layout-shift'] });
          }
        }
      })();
      
      // Enhanced critical images preloading
      const criticalImages = [
        '/logo.png',
        'https://images.unsplash.com/photo-1504307651254-35680f356dfd?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80&fm=webp'
      ];
      
      criticalImages.forEach(src => {
        const link = document.createElement('link');
        link.rel = 'preload';
        link.as = 'image';
        link.href = src;
        link.fetchPriority = 'high';
        document.head.appendChild(link);
      });
      
      // Enhanced error tracking
      window.addEventListener('error', (event) => {
        gtag('event', 'js_error', {
          error_message: event.message,
          error_filename: event.filename,
          error_lineno: event.lineno
        });
      });
      
      // Enhanced user engagement tracking
      let startTime = Date.now();
      window.addEventListener('beforeunload', () => {
        const timeSpent = Date.now() - startTime;
        gtag('event', 'time_on_page', { value: timeSpent });
      });
    </script>
  </head>
  <body>
    <div id="root">
      <div class="loading" aria-label="Chargement en cours..."></div>
    </div>
    
    <!-- Enhanced main script loading -->
    <script type="module" src="/src/main.jsx"></script>
    
    <!-- Enhanced non-critical JavaScript with performance optimization -->
    <script>
      // Enhanced defer non-critical operations
      (function() {
        const isProduction = window.location.hostname !== 'localhost';
        
        window.addEventListener('load', () => {
          // Initialize lazy loading after page load
          if ('IntersectionObserver' in window) {
            const script = document.createElement('script');
            script.src = '/src/utils/performanceOptimization.js';
            script.defer = true;
            document.body.appendChild(script);
          }
          
          // Enhanced service worker registration for PWA
          if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/sw.js')
              .then(registration => {
                // Only log in development mode to reduce console noise
                if (!isProduction) {
                  console.log('SW registered: ', registration);
                }
              })
              .catch(registrationError => {
                // Log errors even in production for debugging
                console.error('SW registration failed: ', registrationError);
              });
          }
        
        // Enhanced offline detection
        window.addEventListener('online', () => {
          gtag('event', 'user_online');
        });
        
        window.addEventListener('offline', () => {
          gtag('event', 'user_offline');
        });
        });
      })();
      
      // Enhanced scroll performance
      let ticking = false;
      function updateScroll() {
        // Track scroll depth for analytics
        const scrollDepth = Math.round((window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100);
        if (scrollDepth > 25 && scrollDepth <= 50) {
          gtag('event', 'scroll_25_percent');
        } else if (scrollDepth > 50 && scrollDepth <= 75) {
          gtag('event', 'scroll_50_percent');
        } else if (scrollDepth > 75) {
          gtag('event', 'scroll_75_percent');
        }
        ticking = false;
      }
      
      window.addEventListener('scroll', () => {
        if (!ticking) {
          requestAnimationFrame(updateScroll);
          ticking = true;
        }
      });
      })();
    </script>
  </body>
</html>
